!function(e){function t(t){for(var a,l,i=t[0],s=t[1],c=t[2],d=0,f=[];d<i.length;d++)l=i[d],o[l]&&f.push(o[l][0]),o[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},o={1:0},r=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=o[e]=[t,a]});t.push(n[2]=a);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=function(e){return l.p+"js/"+({}[e]||e)+"."+{2:"648b80d6e95ae2f0f295",3:"66bf84da385929e1bd9f",4:"1736badccccfb23700ac",5:"1177b1bbac41fc50a0d8"}[e]+".js"}(e);var s=new Error;r=function(t){i.onerror=i.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,n[1](s)}o[e]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:i})},12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="./",l.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=s;r.push([81,0]),n()}({145:function(e,t,n){},146:function(e,t,n){},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="https://it.jisu8.cn:9999/workflowManager/";t.workflowUrl=a,t.ssoUrl="http://localhost:8101/sso/"},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(147),l=(a=r)&&a.__esModule?a:{default:a},i=n(50);l.default.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"getNext",value:function(e){var t=this.sequences[e];return null==t?(this.sequences[e]=0,0):(t++,this.sequences[e]=t,t)}},{key:"contextUrl",value:function(){var e=document.location,t=e.pathname;return e.protocol+"//"+e.host+t.substring(0,t.indexOf("/",1))+"/"}},{key:"sendData",value:function(e){try{e||(e={});var t={url:this.contextUrl(),code:!1,method:!1,message:{},successFunc:function(){},errorFunc:function(e){alert(e)},isShowloading:!1,async:!0,isLogin:!1,postType:!1,encode:!1,notShowLogin:!1,notdata:!1},n=(t=Object.assign(t,e)).code,a=t.method,o=t.message,r=t.successFunc,i=t.errorFunc,s=(t.isShowloading,t.async,t.isLogin),c=(t.postType,t.encode),u=t.notShowLogin,d=t.url,f=t.notdata,p=void 0;if(!n)throw"senddata method's code parameter can't be null."+document.location;if(!a)throw"senddata method's method parameter can't be null."+document.location;var h=this.getNext("json");o?(p=JSON.stringify(o),p=c?"data="+encodeURIComponent(p):"data="+p):p="data=",f&&(p=o);var m=s?"get.login?":"get.data?";(0,l.default)({method:"post",url:""+d+m+"s="+h+"&c="+n+"&m="+a,data:p,headers:{"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"},cancelToken:!!e.cancelToken&&e.cancelToken,withCredentials:!0,timeout:6e4}).then(function(e){var t=e.data;if(0==t.r)r(t.m);else if("-999"==t.r&&"login"==t.a){if(u)return void i(null,t.r,"功能异常，请联系系统管理员 "+t.m)}else i(null,t.r,"功能异常，请联系系统管理员 "+t.m)}).catch(function(e){i(e.message)})}catch(e){alert(e)}}},{key:"getUpdateTime",value:function(e,t,n,a,o){var r=new URLSearchParams;r.append("dateType",e),"contractedAssistant"==t?"month"==e||"day"==e?(r.append("pageType","home"),r.append("deptId",a),r.append("roleCode","yyb_head")):"hour"==e&&(r.append("pageType","home"),r.append("channelCode","home002_2"),r.append("latnId",o),r.append("deptId",a),r.append("roleCode","yyb_head")):"gzzs_bqzhsh"==t&&("month"==e||"day"==e?(r.append("pageType","home"),r.append("deptId",a),r.append("roleCode","gzzs_qdjl")):"hour"==e&&(r.append("pageType","home"),r.append("channelCode","jrfz_city"),r.append("deptId",a),r.append("roleCode","gzzs_qdjl"))),(0,l.default)({method:"post",url:i.baseCbzsUrl+"client/channelAction!getUpdateDateInTheoryFromServer.msp",data:r}).then(function(e){return 1==e.data.retCode&&e.data.retResult}).then(function(e){n(e)}).catch(function(e){alert(e.message)})}},{key:"jumpToApp",value:function(e,t,n){appService.startApp(e,n,function(e){},function(e){showAlert("失败。"+e)})}},{key:"checkTicket",value:function(e){var t=this;try{appService.getTicket(function(n){null==n?(alert("票据为空，请重新登录！"),t.closeApp()):e(n)},function(e){alert(e)})}catch(e){alert(e)}}},{key:"closeApp",value:function(){appService.closeApp(function(){},function(){})}},{key:"showMask",value:function(e){alert(e)}},{key:"upLoadFile",value:function(e){var t=e.url,n=e.file,a=e.fileVal,o=e.onBeforeSend,r=e.onProgress,l=e.onError,i=e.onSuccess,s=n.name,c=n.type,u=n.lastModifiedDate,d={name:s,type:c,size:"file"==e.type?n.size:n.base64.length,lastModifiedDate:u},f={};if(!1!==o(n,d,f)){r(n,0);var p=new FormData,h=new XMLHttpRequest;n.xhr=h,Object.keys(d).forEach(function(e){p.append(e,d[e])}),"file"==e.type?p.append(a,n,s):p.append(a,n.base64),h.onreadystatechange=function(){if(4==h.readyState)if(200==h.status)try{var e=JSON.parse(h.responseText);i(n,e)}catch(e){l(n,e)}else l(n,new Error("XMLHttpRequest response status is "+h.status))},h.upload.addEventListener("progress",function(e){if(0!=e.total){var t=100*Math.ceil(e.loaded/e.total);r(n,t)}},!1),h.open("POST",t),Object.keys(f).forEach(function(e){h.setRequestHeader(e,f[e])}),h.send(p)}}},{key:"formatDateString",value:function(t){if(t){var n=new Date,a=t.split(" "),o=a[0].split("-");if(n.setYear(o[0]),n.setMonth(o[1]-1),n.setDate(o[2]),a.length>1){var r=a[1].split(":");n.setHours(r[0]),n.setMinutes(r[1]),r.length>2?n.setSeconds(r[2]):n.setSeconds(0)}else n.setHours(0),n.setMinutes(0),n.setSeconds(0);return n.setMilliseconds(0),[e.padding((n.getMonth()+1).toString(),2,"0"),"-",e.padding(n.getDate().toString(),2,"0")," ",e.padding(n.getHours().toString(),2,"0"),":",e.padding(n.getMinutes().toString(),2,"0")]}return""}},{key:"padding",value:function(e,t,n){var a=t-e.length;if(a>0)for(var o=0;o<a;o++)e=n+e;return e}},{key:"urlHashInfo",value:function(){var e=window.location.href,t=e.indexOf("?"),n=e.substr(t,e.length-t),a={};if(n.length>1)for(var o=n.substr(1,n.length).split("&"),r=0;r<o.length;r++){t=o[r].indexOf("=");a[o[r].substr(0,t)]=o[r].substr(t+1,o[r].length-t)}return a}}]),e}();t.default=s,s.sequences=[]},81:function(e,t,n){"use strict";var a=u(n(82)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(131);var r=u(n(0)),l=u(n(7));n(145),n(146);var i=u(n(78)),s=n(50),c=u(n(167));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,c.default)({loader:function(){return Promise.all([n.e(0),n.e(4)]).then(n.t.bind(null,193,7))},loading:h}),f=(0,c.default)({loader:function(){return Promise.all([n.e(0),n.e(3)]).then(n.t.bind(null,194,7))},loading:h}),p=(0,c.default)({loader:function(){return Promise.all([n.e(0),n.e(2)]).then(n.t.bind(null,195,7))},loading:h});(0,c.default)({loader:function(){return n.e(5).then(n.t.bind(null,196,7))},loading:h});function h(){return r.default.createElement("div",{style:{height:"100%",backgroundColor:"#fff"}})}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedTab:"createTab",tabTitle:"关闭",numTODO:0},n.contentIFrame=r.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"renderContent",value:function(e){return r.default.createElement("div",{style:{backgroundColor:"white",height:"100%",textAlign:"center"}},e)}},{key:"render",value:function(){var e=this;return r.default.createElement("div",null,r.default.createElement("div",{style:{position:"fixed",height:"100%",width:"100%",top:0}},r.default.createElement(a.default,{unselectedTintColor:"#949494",tintColor:"#33A3F4",barTintColor:"white"},r.default.createElement(a.default.Item,{title:"发起",key:"create",icon:r.default.createElement("span",{className:"icon iconfont size21 top2"},""),selectedIcon:r.default.createElement("span",{className:"icon iconfont size21 top2"},""),selected:"createTab"===this.state.selectedTab,onPress:function(){e.setState({selectedTab:"createTab"})},"data-seed":"logId"},r.default.createElement(d,{owner:this})),r.default.createElement(a.default.Item,{icon:r.default.createElement("span",{className:"icon iconfont size22 top2"},""),selectedIcon:r.default.createElement("span",{className:"icon iconfont size22 top2"},""),title:"待办",key:"todo",badge:0==this.state.numTODO?"":this.state.numTODO,selected:"todoTab"===this.state.selectedTab,onPress:function(){e.setState({selectedTab:"todoTab"})},"data-seed":"logId1"},r.default.createElement(f,{owner:this})),r.default.createElement(a.default.Item,{icon:r.default.createElement("span",{className:"icon iconfont size22 top1"},""),selectedIcon:r.default.createElement("span",{className:"icon iconfont size22 top1"},""),title:"查询",key:"search",selected:"searchTab"===this.state.selectedTab,onPress:function(){e.setState({selectedTab:"searchTab"})}},r.default.createElement(p,{owner:this})))))}}]),t}();window.onload=function(){WorkHelper.getToken({success:function(e){var t;0==e.retCode?(t=e.retData.appToken,i.default.sendData({url:s.workflowUrl,code:"ssoService",method:"smartworkLogin",message:{appToken:t},successFunc:function(e){var t=i.default.urlHashInfo(),n=t.iid,a=t.wid,o=t.nid;n?(o?WorkHelper.openApp({appCode:"aqyhsb",param:{startType:"4",url:s.workflowUrl+"manager/_wfhandler.html?nid="+o+"&wid="+a},success:function(e){},fail:function(e){alert(e)}}):WorkHelper.openApp({appCode:"aqyhsb",param:{startType:"4",url:s.workflowUrl+"/manager/_wfpreview.html?instanceId="+n+"&wid="+a},success:function(e){},fail:function(e){alert(e)}}),WorkHelper.closeApp({success:function(e){},fail:function(e){}})):l.default.render(r.default.createElement(m,{login:"1"}),document.getElementById("app"))},errorFunc:function(e){},isLogin:!0,encode:!0})):(alert(e.retMsg),console.error("应用认证失败",e.retMsg),l.default.render(r.default.createElement(m,{login:"0"}),document.getElementById("app")))},fail:function(e){alert(e),console.error("应用认证失败",e);var t=i.default.urlHashInfo(),n=t.iid,a=t.wid,o=t.nid;n&&(o?WorkHelper.openApp({appCode:"aqyhsb",param:{startType:"4",url:s.workflowUrl+"manager/_wfhandler.html?nid="+o+"&wid="+a},success:function(e){},fail:function(e){alert(e)}}):WorkHelper.openApp({appCode:"aqyhsb",param:{startType:"4",url:s.workflowUrl+"/manager/_wfpreview.html?instanceId="+n+"&wid="+a},success:function(e){},fail:function(e){alert(e)}})),l.default.render(r.default.createElement(m,{login:"0"}),document.getElementById("app"))}})}}});