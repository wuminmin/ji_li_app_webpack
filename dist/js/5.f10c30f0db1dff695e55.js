(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(0)),r=(l(n(8)),l(n(446))),s=n(445);function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={codeUrl:s.ssoUrl+"get.login?s=0&v=0&c=codegen&m=get&ts=1564296279052",username:"",password:"",loginNo:"",code:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"login",value:function(e){e.preventDefault(),r.default.sendData({url:s.ssoUrl,code:"loginService",method:"loginAll",message:{username:this.state.username,password:this.state.password,indexCode:this.state.code,loginNo:this.state.loginNo,authType:"00",loginType:"1",resource:"workflow"},successFunc:function(e){alert(JSON.stringify(e))},errorFunc:function(e){alert(e)},isLogin:!0,encode:!0})}},{key:"render",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("div",null,o.default.createElement("span",null,"用户名："),o.default.createElement("input",{type:"text",id:"username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}})),o.default.createElement("div",null,o.default.createElement("span",null,"密码："),o.default.createElement("input",{type:"password",id:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),o.default.createElement("div",null,o.default.createElement("span",null,"实际登陆工号："),o.default.createElement("input",{type:"text",id:"loginNo",value:this.state.loginNo,onChange:function(t){return e.setState({loginNo:t.target.value})}})),o.default.createElement("div",null,o.default.createElement("span",null," 验证码："),o.default.createElement("input",{type:"text",id:"indexCode",value:this.state.code,onChange:function(t){return e.setState({code:t.target.value})}}),o.default.createElement("img",{id:"imgObj",title:"点击换一个验证码",src:this.state.codeUrl,onClick:function(t){t.preventDefault(),e.setState({codeUrl:s.ssoUrl+"get.login?s=0&v=0&c=codegen&m=get&ts="+(new Date).getTime()})}})),o.default.createElement("div",null,o.default.createElement("button",{type:"button",onClick:function(t){e.login(t)}}," 登录")))}}]),t}(o.default.Component);t.default=i},445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="https://it.jisu8.cn:9999/workflowManager/";t.workflowUrl=a,t.ssoUrl="http://localhost:8101/sso/"},446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(122),s=(a=r)&&a.__esModule?a:{default:a},l=n(445);s.default.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"getNext",value:function(e){var t=this.sequences[e];return null==t?(this.sequences[e]=0,0):(t++,this.sequences[e]=t,t)}},{key:"contextUrl",value:function(){var e=document.location,t=e.pathname;return e.protocol+"//"+e.host+t.substring(0,t.indexOf("/",1))+"/"}},{key:"sendData",value:function(e){try{e||(e={});var t={url:this.contextUrl(),code:!1,method:!1,message:{},successFunc:function(){},errorFunc:function(e){alert(e)},isShowloading:!1,async:!0,isLogin:!1,postType:!1,encode:!1,notShowLogin:!1,notdata:!1},n=(t=Object.assign(t,e)).code,a=t.method,o=t.message,r=t.successFunc,l=t.errorFunc,i=(t.isShowloading,t.async,t.isLogin),u=(t.postType,t.encode),c=t.notShowLogin,d=t.url,p=t.notdata,f=void 0;if(!n)throw"senddata method's code parameter can't be null."+document.location;if(!a)throw"senddata method's method parameter can't be null."+document.location;var h=this.getNext("json");o?(f=JSON.stringify(o),f=u?"data="+encodeURIComponent(f):"data="+f):f="data=",p&&(f=o);var g=i?"get.login?":"get.data?";(0,s.default)({method:"post",url:""+d+g+"s="+h+"&c="+n+"&m="+a,data:f,headers:{"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"},cancelToken:!!e.cancelToken&&e.cancelToken,withCredentials:!0,timeout:6e4}).then((function(e){var t=e.data;if(0==t.r)r(t.m);else if("-999"==t.r&&"login"==t.a){if(c)return void l(null,t.r,"功能异常，请联系系统管理员 "+t.m)}else l(null,t.r,"功能异常，请联系系统管理员 "+t.m)})).catch((function(e){l(e.message)}))}catch(e){alert(e)}}},{key:"getUpdateTime",value:function(e,t,n,a,o){var r=new URLSearchParams;r.append("dateType",e),"contractedAssistant"==t?"month"==e||"day"==e?(r.append("pageType","home"),r.append("deptId",a),r.append("roleCode","yyb_head")):"hour"==e&&(r.append("pageType","home"),r.append("channelCode","home002_2"),r.append("latnId",o),r.append("deptId",a),r.append("roleCode","yyb_head")):"gzzs_bqzhsh"==t&&("month"==e||"day"==e?(r.append("pageType","home"),r.append("deptId",a),r.append("roleCode","gzzs_qdjl")):"hour"==e&&(r.append("pageType","home"),r.append("channelCode","jrfz_city"),r.append("deptId",a),r.append("roleCode","gzzs_qdjl"))),(0,s.default)({method:"post",url:l.baseCbzsUrl+"client/channelAction!getUpdateDateInTheoryFromServer.msp",data:r}).then((function(e){return 1==e.data.retCode&&e.data.retResult})).then((function(e){n(e)})).catch((function(e){alert(e.message)}))}},{key:"jumpToApp",value:function(e,t,n){appService.startApp(e,n,(function(e){}),(function(e){showAlert("失败。"+e)}))}},{key:"checkTicket",value:function(e){var t=this;try{appService.getTicket((function(n){null==n?(alert("票据为空，请重新登录！"),t.closeApp()):e(n)}),(function(e){alert(e)}))}catch(e){alert(e)}}},{key:"closeApp",value:function(){appService.closeApp((function(){}),(function(){}))}},{key:"showMask",value:function(e){alert(e)}},{key:"upLoadFile",value:function(e){var t=e.url,n=e.file,a=e.fileVal,o=e.onBeforeSend,r=e.onProgress,s=e.onError,l=e.onSuccess,i=n.name,u=n.type,c=n.lastModifiedDate,d={name:i,type:u,size:"file"==e.type?n.size:n.base64.length,lastModifiedDate:c},p={};if(!1!==o(n,d,p)){r(n,0);var f=new FormData,h=new XMLHttpRequest;n.xhr=h,Object.keys(d).forEach((function(e){f.append(e,d[e])})),"file"==e.type?f.append(a,n,i):f.append(a,n.base64),h.onreadystatechange=function(){if(4==h.readyState)if(200==h.status)try{var e=JSON.parse(h.responseText);l(n,e)}catch(e){s(n,e)}else s(n,new Error("XMLHttpRequest response status is "+h.status))},h.upload.addEventListener("progress",(function(e){if(0!=e.total){var t=100*Math.ceil(e.loaded/e.total);r(n,t)}}),!1),h.open("POST",t),Object.keys(p).forEach((function(e){h.setRequestHeader(e,p[e])})),h.send(f)}}},{key:"formatDateString",value:function(t){if(t){var n=new Date,a=t.split(" "),o=a[0].split("-");if(n.setYear(o[0]),n.setMonth(o[1]-1),n.setDate(o[2]),a.length>1){var r=a[1].split(":");n.setHours(r[0]),n.setMinutes(r[1]),r.length>2?n.setSeconds(r[2]):n.setSeconds(0)}else n.setHours(0),n.setMinutes(0),n.setSeconds(0);return n.setMilliseconds(0),[e.padding((n.getMonth()+1).toString(),2,"0"),"-",e.padding(n.getDate().toString(),2,"0")," ",e.padding(n.getHours().toString(),2,"0"),":",e.padding(n.getMinutes().toString(),2,"0")]}return""}},{key:"padding",value:function(e,t,n){var a=t-e.length;if(a>0)for(var o=0;o<a;o++)e=n+e;return e}},{key:"urlHashInfo",value:function(){var e=window.location.href,t=e.indexOf("?"),n=e.substr(t,e.length-t),a={};if(n.length>1)for(var o=n.substr(1,n.length).split("&"),r=0;r<o.length;r++){t=o[r].indexOf("=");a[o[r].substr(0,t)]=o[r].substr(t+1,o[r].length-t)}return a}}]),e}();t.default=i,i.sequences=[]}}]);